{
  "{\"sourceRoot\":\"/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver\",\"filename\":\"/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/routes/api.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver\",\"plugins\":[],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/routes/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver",
      "filename": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/routes/api.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/routes/api.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/routes/api.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/routes/",
        "sourceFileName": "api.js"
      }
    },
    "ast": null,
    "code": "'use strict';\n\nconst SudokuSolver = require('../controllers/sudoku-solver.js');\n\n'use strict';\n\nrequire('dotenv').config();\n\nmodule.exports = function (app) {\n  let solver = new SudokuSolver();\n  app.route('/api/check').post((req, res) => {\n    console.log(\"\\n\\n\");\n    console.log(req.body);\n    console.log(req.body.coordinate);\n\n    if (!req.body.puzzle || !req.body.coordinate || !req.body.value) {\n      console.log('Required field(s) missing');\n      return res.json({\n        error: 'Required field(s) missing'\n      });\n    }\n\n    let coordinates = req.body.coordinate.split('');\n\n    if (!solver.validate(req.body.puzzle)) {\n      console.log('Invalid characters in puzzle');\n      return res.json({\n        error: 'Invalid characters in puzzle'\n      });\n    } else if (req.body.puzzle.length != 81) {\n      console.log('Expected puzzle to be 81 characters long');\n      return res.json({\n        error: 'Expected puzzle to be 81 characters long'\n      });\n    }\n\n    if (solver.checkValidCoordinates(coordinates) == false) {\n      console.log('Invalid coordinate');\n      return res.json({\n        error: 'Invalid coordinate'\n      });\n    } else if (solver.checkValidValue(req.body.value) == false) {\n      console.log('Invalid valid');\n      return res.json({\n        error: 'Invalid value'\n      });\n    }\n\n    if (solver.checkExactSquare(req.body.puzzle, coordinates[0], coordinates[1], req.body.value)) {\n      return res.json({\n        valid: true\n      });\n    }\n\n    let valid_row = [\"row\", solver.checkRowPlacement(req.body.puzzle, coordinates[0], coordinates[1], req.body.value)];\n    let valid_col = [\"column\", solver.checkColPlacement(req.body.puzzle, coordinates[0], coordinates[1], req.body.value)];\n    let valid_reg = [\"region\", solver.checkRegionPlacement(req.body.puzzle, coordinates[0], coordinates[1], req.body.value)];\n    let errors = [valid_row, valid_col, valid_reg].filter(i => i[1] == false);\n    console.log(errors);\n    let conflicts = errors.map(e => e[0]);\n\n    if (errors.length > 0) {\n      return res.json({\n        valid: false,\n        conflict: conflicts\n      });\n    }\n\n    return res.json({\n      valid: true\n    });\n  });\n  app.route('/api/solve').post((req, res) => {\n    console.log(req.body);\n\n    if (!req.body.puzzle) {\n      console.log('Required field(s) missing');\n      return res.json({\n        error: 'Required field missing'\n      });\n    }\n\n    if (!solver.validate(req.body.puzzle)) {\n      console.log('Invalid characters in puzzle');\n      return res.json({\n        error: 'Invalid characters in puzzle'\n      });\n    } else if (req.body.puzzle.length != 81) {\n      console.log('Expected puzzle to be 81 characters long');\n      return res.json({\n        error: 'Expected puzzle to be 81 characters long'\n      });\n    }\n\n    solver.solve(req.body.puzzle);\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJTdWRva3VTb2x2ZXIiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwcCIsInNvbHZlciIsInJvdXRlIiwicG9zdCIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiY29vcmRpbmF0ZSIsInB1enpsZSIsInZhbHVlIiwianNvbiIsImVycm9yIiwiY29vcmRpbmF0ZXMiLCJzcGxpdCIsInZhbGlkYXRlIiwibGVuZ3RoIiwiY2hlY2tWYWxpZENvb3JkaW5hdGVzIiwiY2hlY2tWYWxpZFZhbHVlIiwiY2hlY2tFeGFjdFNxdWFyZSIsInZhbGlkIiwidmFsaWRfcm93IiwiY2hlY2tSb3dQbGFjZW1lbnQiLCJ2YWxpZF9jb2wiLCJjaGVja0NvbFBsYWNlbWVudCIsInZhbGlkX3JlZyIsImNoZWNrUmVnaW9uUGxhY2VtZW50IiwiZXJyb3JzIiwiZmlsdGVyIiwiaSIsImNvbmZsaWN0cyIsIm1hcCIsImUiLCJjb25mbGljdCIsInNvbHZlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxpQ0FBRCxDQUE1Qjs7QUFDQTs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixVQUFVQyxHQUFWLEVBQWU7QUFFOUIsTUFBSUMsTUFBTSxHQUFHLElBQUlOLFlBQUosRUFBYjtBQUVBSyxFQUFBQSxHQUFHLENBQUNFLEtBQUosQ0FBVSxZQUFWLEVBQ0dDLElBREgsQ0FDUSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNsQkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksTUFBWjtBQUNBRCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBRyxDQUFDSSxJQUFoQjtBQUNBRixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBRyxDQUFDSSxJQUFKLENBQVNDLFVB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Q0FBQ1osTUFBTSxDQUFDZSxRQUFQLENBQWdCWixHQUFHLENBQUNJLElBQUosQ0FBU0UsTUFBekIsQ0FBTCxFQUF1QztBQUNyQ0osTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksOEJBQVo7QUFDQSxhQUFPRixHQUFHLENBQUNPLElBQUosQ0FBUztBQUFFQyxRQUFBQSxLQUFLLEVBQUU7QUFBVCxPQUFULENBQVA7QUFDRCxLQUhELE1BR08sSUFBSVQsR0FBRyxDQUFDSSxJQUFKLENBQVNFLE1BQVQsQ0FBZ0JPLE1BQWhCLElBQTBCLEVBQTlCLEVBQWtDO0FBQ3ZDWCxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSwwQ0FBWjtBQUNBLGFBQU9GLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUVDLFFBQUFBLEtBQUssRUFBRTtBQUFULE9BQVQsQ0FBUDtBQUNEOztBQUNEWixJQUFBQSxNQUFNLENBQUNrQyxLQUFQLENBQWEvQixHQUFHLENBQUNJLElBQUosQ0FBU0UsTUFBdEI7QUFFRCxHQWpCSDtBQWtCRCxDQS9ERCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvZmlubmNqL2NvZGUvZmlubmlhbmovZnJlZWNvZGVjYW1wL3F1YWxpdHlfYXNzdXJhbmNlL3Byb2plY3RzL3N1ZG9rdV9zb2x2ZXIvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgU3Vkb2t1U29sdmVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvc3Vkb2t1LXNvbHZlci5qcycpO1xuJ3VzZSBzdHJpY3QnO1xucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwcCkge1xuXG4gIGxldCBzb2x2ZXIgPSBuZXcgU3Vkb2t1U29sdmVyKCk7XG5cbiAgYXBwLnJvdXRlKCcvYXBpL2NoZWNrJylcbiAgICAucG9zdCgocmVxLCByZXMpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiXFxuXFxuXCIpXG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSlcbiAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5LmNvb3JkaW5hdGUpXG4gICAgICBpZiAoICFyZXEuYm9keS5wdXp6bGUgfHwgIXJlcS5ib2R5LmNvb3JkaW5hdGUgfHwgIXJlcS5ib2R5LnZhbHVlICkge1xuICAgICAgICBjb25zb2xlLmxvZygnUmVxdWlyZWQgZmllbGQocykgbWlzc2luZycpXG4gICAgICAgIHJldHVybiByZXMuanNvbih7IGVycm9yOiAnUmVxdWlyZWQgZmllbGQocykgbWlzc2luZycgfSlcbiAgICAgIH1cbiAgICAgIGxldCBjb29yZGluYXRlcyA9IHJlcS5ib2R5LmNvb3JkaW5hdGUuc3BsaXQoJycpXG4gICAgICBpZiAoIXNvbHZlci52YWxpZGF0ZShyZXEuYm9keS5wdXp6bGUpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIGNoYXJhY3RlcnMgaW4gcHV6emxlJylcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGNoYXJhY3RlcnMgaW4gcHV6emxlJyB9KVxuICAgICAgfSBlbHNlIGlmIChyZXEuYm9keS5wdXp6bGUubGVuZ3RoICE9IDgxKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFeHBlY3RlZCBwdXp6bGUgdG8gYmUgODEgY2hhcmFjdGVycyBsb25nJylcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgZXJyb3I6ICdFeHBlY3RlZCBwdXp6bGUgdG8gYmUgODEgY2hhcmFjdGVycyBsb25nJyB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoc29sdmVyLmNoZWNrVmFsaWRDb29yZGluYXRlcyhjb29yZGluYXRlcykgPT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgY29vcmRpbmF0ZScpXG4gICAgICAgIHJldHVybiByZXMuanNvbih7IGVycm9yOiAnSW52YWxpZCBjb29yZGluYXRlJ30pXG4gICAgICB9IGVsc2UgaWYgKHNvbHZlci5jaGVja1ZhbGlkVmFsdWUocmVxLmJvZHkudmFsdWUpID09IGZhbHNlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIHZhbGlkJylcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHZhbHVlJ30pXG4gICAgICB9XG5cbiAgICAgIGlmIChzb2x2ZXIuY2hlY2tFeGFjdFNxdWFyZShyZXEuYm9keS5wdXp6bGUsIGNvb3JkaW5hdGVzWzBdLCBjb29yZGluYXRlc1sxXSwgcmVxLmJvZHkudmFsdWUpKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbih7IHZhbGlkOiB0cnVlIH0pXG4gICAgICB9XG4gICAgICBsZXQgdmFsaWRfcm93ID0gW1wicm93XCIsIHNvbHZlci5jaGVja1Jvd1BsYWNlbWVudChyZXEuYm9keS5wdXp6bGUsIGNvb3JkaW5hdGVzWzBdLCBjb29yZGluYXRlc1sxXSwgcmVxLmJvZHkudmFsdWUpXVxuICAgICAgbGV0IHZhbGlkX2NvbCA9IFtcImNvbHVtblwiLCBzb2x2ZXIuY2hlY2tDb2xQbGFjZW1lbnQocmVxLmJvZHkucHV6emxlLCBjb29yZGluYXRlc1swXSwgY29vcmRpbmF0ZXNbMV0sIHJlcS5ib2R5LnZhbHVlKV1cbiAgICAgIGxldCB2YWxpZF9yZWcgPSBbXCJyZWdpb25cIiwgc29sdmVyLmNoZWNrUmVnaW9uUGxhY2VtZW50KHJlcS5ib2R5LnB1enpsZSwgY29vcmRpbmF0ZXNbMF0sIGNvb3JkaW5hdGVzWzFdLCByZXEuYm9keS52YWx1ZSldXG4gICAgICBsZXQgZXJyb3JzID0gW3ZhbGlkX3JvdywgdmFsaWRfY29sLCB2YWxpZF9yZWddLmZpbHRlcihpID0+IGlbMV0gPT0gZmFsc2UpXG4gICAgICBjb25zb2xlLmxvZyhlcnJvcnMpXG4gICAgICBsZXQgY29uZmxpY3RzID0gZXJyb3JzLm1hcChlID0+IGVbMF0pXG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgdmFsaWQ6IGZhbHNlLCBjb25mbGljdDogY29uZmxpY3RzIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24oeyB2YWxpZDogdHJ1ZSB9KVxuICAgIH0pO1xuXG4gIGFwcC5yb3V0ZSgnL2FwaS9zb2x2ZScpXG4gICAgLnBvc3QoKHJlcSwgcmVzKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSlcbiAgICAgIGlmICggIXJlcS5ib2R5LnB1enpsZSApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlcXVpcmVkIGZpZWxkKHMpIG1pc3NpbmcnKVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oeyBlcnJvcjogJ1JlcXVpcmVkIGZpZWxkIG1pc3NpbmcnIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICghc29sdmVyLnZhbGlkYXRlKHJlcS5ib2R5LnB1enpsZSkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBwdXp6bGUnKVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBwdXp6bGUnIH0pXG4gICAgICB9IGVsc2UgaWYgKHJlcS5ib2R5LnB1enpsZS5sZW5ndGggIT0gODEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0V4cGVjdGVkIHB1enpsZSB0byBiZSA4MSBjaGFyYWN0ZXJzIGxvbmcnKVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oeyBlcnJvcjogJ0V4cGVjdGVkIHB1enpsZSB0byBiZSA4MSBjaGFyYWN0ZXJzIGxvbmcnIH0pXG4gICAgICB9XG4gICAgICBzb2x2ZXIuc29sdmUocmVxLmJvZHkucHV6emxlKVxuXG4gICAgfSk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "SudokuSolver",
        "require",
        "config",
        "module",
        "exports",
        "app",
        "solver",
        "route",
        "post",
        "req",
        "res",
        "console",
        "log",
        "body",
        "coordinate",
        "puzzle",
        "value",
        "json",
        "error",
        "coordinates",
        "split",
        "validate",
        "length",
        "checkValidCoordinates",
        "checkValidValue",
        "checkExactSquare",
        "valid",
        "valid_row",
        "checkRowPlacement",
        "valid_col",
        "checkColPlacement",
        "valid_reg",
        "checkRegionPlacement",
        "errors",
        "filter",
        "i",
        "conflicts",
        "map",
        "e",
        "conflict",
        "solve"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/routes/",
      "sourcesContent": [
        "'use strict';\n\nconst SudokuSolver = require('../controllers/sudoku-solver.js');\n'use strict';\nrequire('dotenv').config();\n\nmodule.exports = function (app) {\n\n  let solver = new SudokuSolver();\n\n  app.route('/api/check')\n    .post((req, res) => {\n      console.log(\"\\n\\n\")\n      console.log(req.body)\n      console.log(req.body.coordinate)\n      if ( !req.body.puzzle || !req.body.coordinate || !req.body.value ) {\n        console.log('Required field(s) missing')\n        return res.json({ error: 'Required field(s) missing' })\n      }\n      let coordinates = req.body.coordinate.split('')\n      if (!solver.validate(req.body.puzzle)) {\n        console.log('Invalid characters in puzzle')\n        return res.json({ error: 'Invalid characters in puzzle' })\n      } else if (req.body.puzzle.length != 81) {\n        console.log('Expected puzzle to be 81 characters long')\n        return res.json({ error: 'Expected puzzle to be 81 characters long' })\n      }\n\n      if (solver.checkValidCoordinates(coordinates) == false) {\n        console.log('Invalid coordinate')\n        return res.json({ error: 'Invalid coordinate'})\n      } else if (solver.checkValidValue(req.body.value) == false) {\n        console.log('Invalid valid')\n        return res.json({ error: 'Invalid value'})\n      }\n\n      if (solver.checkExactSquare(req.body.puzzle, coordinates[0], coordinates[1], req.body.value)) {\n        return res.json({ valid: true })\n      }\n      let valid_row = [\"row\", solver.checkRowPlacement(req.body.puzzle, coordinates[0], coordinates[1], req.body.value)]\n      let valid_col = [\"column\", solver.checkColPlacement(req.body.puzzle, coordinates[0], coordinates[1], req.body.value)]\n      let valid_reg = [\"region\", solver.checkRegionPlacement(req.body.puzzle, coordinates[0], coordinates[1], req.body.value)]\n      let errors = [valid_row, valid_col, valid_reg].filter(i => i[1] == false)\n      console.log(errors)\n      let conflicts = errors.map(e => e[0])\n      if (errors.length > 0) {\n        return res.json({ valid: false, conflict: conflicts })\n      }\n      return res.json({ valid: true })\n    });\n\n  app.route('/api/solve')\n    .post((req, res) => {\n      console.log(req.body)\n      if ( !req.body.puzzle ) {\n        console.log('Required field(s) missing')\n        return res.json({ error: 'Required field missing' })\n      }\n\n      if (!solver.validate(req.body.puzzle)) {\n        console.log('Invalid characters in puzzle')\n        return res.json({ error: 'Invalid characters in puzzle' })\n      } else if (req.body.puzzle.length != 81) {\n        console.log('Expected puzzle to be 81 characters long')\n        return res.json({ error: 'Expected puzzle to be 81 characters long' })\n      }\n      solver.solve(req.body.puzzle)\n\n    });\n};\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1681295742212
  },
  "{\"sourceRoot\":\"/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/controllers/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver\",\"filename\":\"/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/controllers/sudoku-solver.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver\",\"plugins\":[],\"presets\":[]}:7.11.6": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/controllers/",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver",
      "filename": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/controllers/sudoku-solver.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/controllers/sudoku-solver.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/controllers/sudoku-solver.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/controllers/",
        "sourceFileName": "sudoku-solver.js"
      }
    },
    "ast": null,
    "code": "class SudokuSolver {\n  validate(puzzleString) {\n    let reg = /^[\\d\\.]*$/;\n    return reg.test(puzzleString);\n  }\n\n  checkValidCoordinates(coordinates) {\n    if (coordinates.length > 2) return false;\n    let chars = /[A-I]/i;\n    let nums = /[1-9]/;\n\n    if (chars.test(coordinates[0]) && nums.test(coordinates[1])) {\n      return true;\n    }\n\n    return false;\n  }\n\n  checkValidValue(value) {\n    if (value.length > 1) return false;\n    let nums = /[1-9]/;\n    return nums.test(value);\n  }\n\n  checkExactSquare(puzzleString, row_letter, column, value) {\n    let row_multiplier = row_letter.toUpperCase().charCodeAt(0) % 65 * 9;\n    let index = row_multiplier + (column - 1);\n    return puzzleString[index] != '.' && puzzleString[index] == value;\n  }\n\n  checkRowPlacement(puzzleString, row_letter, column, value) {\n    row_letter = row_letter.toUpperCase().charCodeAt(0);\n    let row_index = row_letter % 65; // console.log(\"Row index: \" + row_index)\n\n    let row = puzzleString.split('').slice(row_index, row_index + 9); // console.log(\"Good row value? \" + !row.some((item) => item == value))\n\n    return !row.some(item => item == value);\n  }\n\n  checkColPlacement(puzzleString, row, column, value) {\n    let col_num = column - 1;\n    let array = puzzleString.split('');\n    let col_extract = array.filter((_num, i) => i % 9 == col_num); // console.log(\"Good column value? \" + !col_extract.some(num => num == value))\n\n    return !col_extract.some(num => num == value);\n  }\n\n  checkRegionPlacement(puzzleString, row_letter, column, value) {\n    row_letter = row_letter.toUpperCase().charCodeAt(0);\n    let row_group = Math.floor(row_letter % 65 / 3);\n    let col_group = Math.floor((column - 1) / 3);\n    let array = puzzleString.split('');\n    let row_extract = array.filter((_num, i) => i >= row_group * 27 && i < (row_group + 1) * 27);\n    let region = row_extract.filter((_num, i) => {\n      return i % 9 >= col_group * 3 && i % 9 <= (col_group + 1) * 3 - 1;\n    });\n    return !region.some(item => item == value);\n  }\n\n  solve(puzzleString) {\n    let grid = this.transform(puzzleString);\n    let solved = this.solveSudoku(grid, 0, 0);\n    if (!solved) return false; // let solvedString = solved.flat().join(\"\")\n\n    console.log(solved);\n  }\n\n  solveSudoku(grid, row, col) {\n    if (row == 9 - 1 && col == 9) return true;\n\n    if (col == 9) {\n      row++;\n      col = 0;\n    }\n\n    if (grid[row][col] != 0) return this.solveSudoku(grid, row, col + 1);\n\n    for (let num = 1; num < 10; num++) {\n      if (this.isSafe(grid, row, col, num)) {\n        grid[row][col] = num;\n        if (this.solveSudoku(grid, row, col + 1)) return true;\n      }\n\n      grid[row][col] = 0;\n    }\n\n    return false;\n  }\n\n  isSafe(grid, row, col, num) {\n    for (let x = 0; x <= 8; x++) if (grid[row][x] == num) return false;\n\n    for (let x = 0; x <= 8; x++) if (grid[x][col] == num) return false;\n\n    let startRow = row - row % 3;\n    let startCol = col - col % 3;\n\n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        if (grid[i + startRow][j + startCol] == num) return false;\n      }\n\n      return true;\n    }\n  }\n\n  transform(puzzleString) {\n    let grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0]];\n    let row = -1;\n    let col = 0;\n\n    for (let i = 0; i < puzzleString.length; i++) {\n      if (i % 9 == 0) {\n        row++;\n      }\n\n      if (col % 9 == 0) {\n        col = 0;\n      }\n\n      grid[row][col] = puzzleString[i] === '.' ? 0 : +puzzleString[i];\n      col++;\n    }\n\n    return grid;\n  }\n\n}\n\nmodule.exports = SudokuSolver;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN1ZG9rdS1zb2x2ZXIuanMiXSwibmFtZXMiOlsiU3Vkb2t1U29sdmVyIiwidmFsaWRhdGUiLCJwdXp6bGVTdHJpbmciLCJyZWciLCJ0ZXN0IiwiY2hlY2tWYWxpZENvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZXMiLCJsZW5ndGgiLCJjaGFycyIsIm51bXMiLCJjaGVja1ZhbGlkVmFsdWUiLCJ2YWx1ZSIsImNoZWNrRXhhY3RTcXVhcmUiLCJyb3dfbGV0dGVyIiwiY29sdW1uIiwicm93X211bHRpcGxpZXIiLCJ0b1VwcGVyQ2FzZSIsImNoYXJDb2RlQXQiLCJpbmRleCIsImNoZWNrUm93UGxhY2VtZW50Iiwicm93X2luZGV4Iiwicm93Iiwic3BsaXQiLCJzbGljZSIsInNvbWUiLCJpdGVtIiwiY2hlY2tDb2xQbGFjZW1lbnQiLCJjb2xfbnVtIiwiYXJyYXkiLCJjb2xfZXh0cmFjdCIsImZpbHRlciIsIl9udW0iLCJpIiwibnVtIiwiY2hlY2tSZWdpb25QbGFjZW1lbnQiLCJyb3dfZ3JvdXAiLCJNYXRoIiwiZmxvb3IiLCJjb2xfZ3JvdXAiLCJyb3dfZXh0cmFjdCIsInJlZ2lvbiIsInNvbHZlIiwiZ3JpZCIsInRyYW5zZm9ybSIsInNvbHZlZCIsInNvbHZlU3Vkb2t1IiwiY29uc29sZSIsImxvZyIsImNvbCIsImlzU2FmZSIsIngiLCJzdGFydFJvdyIsInN0YXJ0Q29sIiwiaiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFlBQU4sQ0FBbUI7QUFFakJDLEVBQUFBLFFBQVEsQ0FBQ0MsWUFBRCxFQUFlO0FBQ3JCLFFBQUlDLEdBQUcsR0FBRyxXQUFWO0FBQ0EsV0FBT0EsR0FBRyxDQUFDQyxJQUFKLENBQVNGLFlBQVQsQ0FBUDtBQUNEOztBQUVERyxFQUFBQSxxQkFBcUIsQ0FBQ0MsV0FBRCxFQUFjO0FBQ2pDLFFBQUlBLFdBQVcsQ0FBQ0MsTUFBWixHQUFxQixDQUF6QixFQUE0QixPQUFPLEtBQVA7QUFDNUIsUUFBSUMsS0FB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LENBQUM4QixDQUFELENBQVosS0FBb0IsR0FBcEIsR0FBMEIsQ0FBMUIsR0FBOEIsQ0FBQzlCLFlBQVksQ0FBQzhCLENBQUQsQ0FBNUQ7QUFDQWdCLE1BQUFBLEdBQUc7QUFDSjs7QUFDRCxXQUFPTixJQUFQO0FBQ0Q7O0FBbElnQjs7QUFzSW5CWSxNQUFNLENBQUNDLE9BQVAsR0FBaUJ2RCxZQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvZmlubmNqL2NvZGUvZmlubmlhbmovZnJlZWNvZGVjYW1wL3F1YWxpdHlfYXNzdXJhbmNlL3Byb2plY3RzL3N1ZG9rdV9zb2x2ZXIvY29udHJvbGxlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU3Vkb2t1U29sdmVyIHtcblxuICB2YWxpZGF0ZShwdXp6bGVTdHJpbmcpIHtcbiAgICBsZXQgcmVnID0gL15bXFxkXFwuXSokL1xuICAgIHJldHVybiByZWcudGVzdChwdXp6bGVTdHJpbmcpXG4gIH1cblxuICBjaGVja1ZhbGlkQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMpIHtcbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoID4gMikgcmV0dXJuIGZhbHNlXG4gICAgbGV0IGNoYXJzID0gL1tBLUldL2lcbiAgICBsZXQgbnVtcyA9IC9bMS05XS9cbiAgICBpZiAoY2hhcnMudGVzdChjb29yZGluYXRlc1swXSkgJiYgbnVtcy50ZXN0KGNvb3JkaW5hdGVzWzFdKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBjaGVja1ZhbGlkVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUubGVuZ3RoID4gMSkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IG51bXMgPSAvWzEtOV0vXG4gICAgcmV0dXJuIG51bXMudGVzdCh2YWx1ZSlcbiAgfVxuXG4gIGNoZWNrRXhhY3RTcXVhcmUocHV6emxlU3RyaW5nLCByb3dfbGV0dGVyLCBjb2x1bW4sIHZhbHVlKSB7XG4gICAgbGV0IHJvd19tdWx0aXBsaWVyID0gKHJvd19sZXR0ZXIudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApICUgNjUpICogOVxuICAgIGxldCBpbmRleCA9IHJvd19tdWx0aXBsaWVyICsgKGNvbHVtbiAtIDEpXG4gICAgcmV0dXJuIChwdXp6bGVTdHJpbmdbaW5kZXhdICE9ICcuJyAmJiBwdXp6bGVTdHJpbmdbaW5kZXhdID09IHZhbHVlKVxuICB9XG5cbiAgY2hlY2tSb3dQbGFjZW1lbnQocHV6emxlU3RyaW5nLCByb3dfbGV0dGVyLCBjb2x1bW4sIHZhbHVlKSB7XG4gICAgcm93X2xldHRlciA9IHJvd19sZXR0ZXIudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApXG4gICAgbGV0IHJvd19pbmRleCA9IChyb3dfbGV0dGVyICUgNjUpO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiUm93IGluZGV4OiBcIiArIHJvd19pbmRleClcbiAgICBsZXQgcm93ID0gcHV6emxlU3RyaW5nLnNwbGl0KCcnKS5zbGljZShyb3dfaW5kZXgsIChyb3dfaW5kZXggKyA5KSlcbiAgICAvLyBjb25zb2xlLmxvZyhcIkdvb2Qgcm93IHZhbHVlPyBcIiArICFyb3cuc29tZSgoaXRlbSkgPT4gaXRlbSA9PSB2YWx1ZSkpXG4gICAgcmV0dXJuICFyb3cuc29tZSgoaXRlbSkgPT4gaXRlbSA9PSB2YWx1ZSlcbiAgfVxuXG4gIGNoZWNrQ29sUGxhY2VtZW50KHB1enpsZVN0cmluZywgcm93LCBjb2x1bW4sIHZhbHVlKSB7XG4gICAgbGV0IGNvbF9udW0gPSBjb2x1bW4gLSAxXG4gICAgbGV0IGFycmF5ID0gcHV6emxlU3RyaW5nLnNwbGl0KCcnKVxuICAgIGxldCBjb2xfZXh0cmFjdCA9IGFycmF5LmZpbHRlcigoX251bSwgaSkgPT4gaSAlIDkgPT0gY29sX251bSlcbiAgICAvLyBjb25zb2xlLmxvZyhcIkdvb2QgY29sdW1uIHZhbHVlPyBcIiArICFjb2xfZXh0cmFjdC5zb21lKG51bSA9PiBudW0gPT0gdmFsdWUpKVxuICAgIHJldHVybiAhY29sX2V4dHJhY3Quc29tZShudW0gPT4gbnVtID09IHZhbHVlKVxuICB9XG5cbiAgY2hlY2tSZWdpb25QbGFjZW1lbnQocHV6emxlU3RyaW5nLCByb3dfbGV0dGVyLCBjb2x1bW4sIHZhbHVlKSB7XG4gICAgcm93X2xldHRlciA9IHJvd19sZXR0ZXIudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApXG4gICAgbGV0IHJvd19ncm91cCA9IE1hdGguZmxvb3IoKHJvd19sZXR0ZXIgJSA2NSkgLyAzKTtcbiAgICBsZXQgY29sX2dyb3VwID0gTWF0aC5mbG9vcigoY29sdW1uIC0gMSkgLyAzKTtcbiAgICBsZXQgYXJyYXkgPSBwdXp6bGVTdHJpbmcuc3BsaXQoJycpXG4gICAgbGV0IHJvd19leHRyYWN0ID0gYXJyYXkuZmlsdGVyKChfbnVtLCBpKSA9PiAoaSA+PSAocm93X2dyb3VwICogMjcpICYmIGkgPCAoKHJvd19ncm91cCArIDEpICogMjcpKSlcbiAgICBsZXQgcmVnaW9uID0gcm93X2V4dHJhY3QuZmlsdGVyKChfbnVtLCBpKSA9PiB7XG4gICAgICByZXR1cm4gKChpICUgOSkgPj0gY29sX2dyb3VwICogMykgJiYgKChpICUgOSkgPD0gKCgoY29sX2dyb3VwICsgMSkgKiAzKSAtIDEpKVxuICAgIH0pXG4gICAgcmV0dXJuICFyZWdpb24uc29tZSgoaXRlbSkgPT4gaXRlbSA9PSB2YWx1ZSlcbiAgfVxuXG4gIHNvbHZlKHB1enpsZVN0cmluZykge1xuICAgIGxldCBncmlkID0gdGhpcy50cmFuc2Zvcm0ocHV6emxlU3RyaW5nKVxuICAgIGxldCBzb2x2ZWQgPSB0aGlzLnNvbHZlU3Vkb2t1KGdyaWQsIDAsIDApXG4gICAgaWYgKCFzb2x2ZWQpIHJldHVybiBmYWxzZVxuICAgIC8vIGxldCBzb2x2ZWRTdHJpbmcgPSBzb2x2ZWQuZmxhdCgpLmpvaW4oXCJcIilcbiAgICBjb25zb2xlLmxvZyhzb2x2ZWQpXG4gIH1cblxuICBzb2x2ZVN1ZG9rdShncmlkLCByb3csIGNvbCkge1xuICAgIGlmIChyb3cgPT0gOSAtIDEgJiYgY29sID09OSkgcmV0dXJuIHRydWVcbiAgICBpZiAoY29sID09IDkpIHtcbiAgICAgIHJvdysrO1xuICAgICAgY29sID0gMDtcbiAgICB9XG5cbiAgICBpZiAoZ3JpZFtyb3ddW2NvbF0gIT0gMCkgcmV0dXJuIHRoaXMuc29sdmVTdWRva3UoZ3JpZCwgcm93LCBjb2wgKyAxKTtcblxuICAgIGZvciAobGV0IG51bSA9IDE7IG51bSA8IDEwOyBudW0rKykge1xuXG4gICAgICBpZiAodGhpcy5pc1NhZmUoZ3JpZCwgcm93LCBjb2wsIG51bSkpIHtcbiAgICAgICAgZ3JpZFtyb3ddW2NvbF0gPSBudW07XG4gICAgICAgIGlmICh0aGlzLnNvbHZlU3Vkb2t1KGdyaWQsIHJvdywgY29sICsgMSkpIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIGdyaWRbcm93XVtjb2xdID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpc1NhZmUoZ3JpZCwgcm93LCBjb2wsIG51bSkge1xuXG4gICAgZm9yKGxldCB4ID0gMDsgeCA8PSA4OyB4KyspIGlmIChncmlkW3Jvd11beF0gPT0gbnVtKSByZXR1cm4gZmFsc2VcbiAgICBmb3IobGV0IHggPSAwOyB4IDw9IDg7IHgrKykgaWYgKGdyaWRbeF1bY29sXSA9PSBudW0pIHJldHVybiBmYWxzZVxuXG4gICAgbGV0IHN0YXJ0Um93ID0gcm93IC0gKHJvdyAlIDMpXG4gICAgbGV0IHN0YXJ0Q29sID0gY29sIC0gKGNvbCAlIDMpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgaWYgKGdyaWRbaSArIHN0YXJ0Um93XVtqICsgc3RhcnRDb2xdID09IG51bSkgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybShwdXp6bGVTdHJpbmcpIHtcbiAgICBsZXQgZ3JpZCA9IFtcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgIFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgIF07XG4gICAgbGV0IHJvdyA9IC0xXG4gICAgbGV0IGNvbCA9IDBcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHV6emxlU3RyaW5nLmxlbmd0aDsgaSArKykge1xuICAgICAgaWYgKGkgJSA5ID09IDApIHtcbiAgICAgICAgcm93KytcbiAgICAgIH1cbiAgICAgIGlmIChjb2wgJSA5ID09IDApIHtcbiAgICAgICAgY29sID0gMDtcbiAgICAgIH1cblxuICAgICAgZ3JpZFtyb3ddW2NvbF0gPSBwdXp6bGVTdHJpbmdbaV0gPT09ICcuJyA/IDAgOiArcHV6emxlU3RyaW5nW2ldO1xuICAgICAgY29sKys7XG4gICAgfVxuICAgIHJldHVybiBncmlkO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTdWRva3VTb2x2ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "sudoku-solver.js"
      ],
      "names": [
        "SudokuSolver",
        "validate",
        "puzzleString",
        "reg",
        "test",
        "checkValidCoordinates",
        "coordinates",
        "length",
        "chars",
        "nums",
        "checkValidValue",
        "value",
        "checkExactSquare",
        "row_letter",
        "column",
        "row_multiplier",
        "toUpperCase",
        "charCodeAt",
        "index",
        "checkRowPlacement",
        "row_index",
        "row",
        "split",
        "slice",
        "some",
        "item",
        "checkColPlacement",
        "col_num",
        "array",
        "col_extract",
        "filter",
        "_num",
        "i",
        "num",
        "checkRegionPlacement",
        "row_group",
        "Math",
        "floor",
        "col_group",
        "row_extract",
        "region",
        "solve",
        "grid",
        "transform",
        "solved",
        "solveSudoku",
        "console",
        "log",
        "col",
        "isSafe",
        "x",
        "startRow",
        "startCol",
        "j",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/finncj/code/finnianj/freecodecamp/quality_assurance/projects/sudoku_solver/controllers/",
      "sourcesContent": [
        "class SudokuSolver {\n\n  validate(puzzleString) {\n    let reg = /^[\\d\\.]*$/\n    return reg.test(puzzleString)\n  }\n\n  checkValidCoordinates(coordinates) {\n    if (coordinates.length > 2) return false\n    let chars = /[A-I]/i\n    let nums = /[1-9]/\n    if (chars.test(coordinates[0]) && nums.test(coordinates[1])) {\n      return true\n    }\n    return false\n  }\n\n  checkValidValue(value) {\n    if (value.length > 1) return false\n    let nums = /[1-9]/\n    return nums.test(value)\n  }\n\n  checkExactSquare(puzzleString, row_letter, column, value) {\n    let row_multiplier = (row_letter.toUpperCase().charCodeAt(0) % 65) * 9\n    let index = row_multiplier + (column - 1)\n    return (puzzleString[index] != '.' && puzzleString[index] == value)\n  }\n\n  checkRowPlacement(puzzleString, row_letter, column, value) {\n    row_letter = row_letter.toUpperCase().charCodeAt(0)\n    let row_index = (row_letter % 65);\n    // console.log(\"Row index: \" + row_index)\n    let row = puzzleString.split('').slice(row_index, (row_index + 9))\n    // console.log(\"Good row value? \" + !row.some((item) => item == value))\n    return !row.some((item) => item == value)\n  }\n\n  checkColPlacement(puzzleString, row, column, value) {\n    let col_num = column - 1\n    let array = puzzleString.split('')\n    let col_extract = array.filter((_num, i) => i % 9 == col_num)\n    // console.log(\"Good column value? \" + !col_extract.some(num => num == value))\n    return !col_extract.some(num => num == value)\n  }\n\n  checkRegionPlacement(puzzleString, row_letter, column, value) {\n    row_letter = row_letter.toUpperCase().charCodeAt(0)\n    let row_group = Math.floor((row_letter % 65) / 3);\n    let col_group = Math.floor((column - 1) / 3);\n    let array = puzzleString.split('')\n    let row_extract = array.filter((_num, i) => (i >= (row_group * 27) && i < ((row_group + 1) * 27)))\n    let region = row_extract.filter((_num, i) => {\n      return ((i % 9) >= col_group * 3) && ((i % 9) <= (((col_group + 1) * 3) - 1))\n    })\n    return !region.some((item) => item == value)\n  }\n\n  solve(puzzleString) {\n    let grid = this.transform(puzzleString)\n    let solved = this.solveSudoku(grid, 0, 0)\n    if (!solved) return false\n    // let solvedString = solved.flat().join(\"\")\n    console.log(solved)\n  }\n\n  solveSudoku(grid, row, col) {\n    if (row == 9 - 1 && col ==9) return true\n    if (col == 9) {\n      row++;\n      col = 0;\n    }\n\n    if (grid[row][col] != 0) return this.solveSudoku(grid, row, col + 1);\n\n    for (let num = 1; num < 10; num++) {\n\n      if (this.isSafe(grid, row, col, num)) {\n        grid[row][col] = num;\n        if (this.solveSudoku(grid, row, col + 1)) return true\n      }\n\n      grid[row][col] = 0;\n    }\n    return false\n  }\n\n  isSafe(grid, row, col, num) {\n\n    for(let x = 0; x <= 8; x++) if (grid[row][x] == num) return false\n    for(let x = 0; x <= 8; x++) if (grid[x][col] == num) return false\n\n    let startRow = row - (row % 3)\n    let startCol = col - (col % 3)\n\n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        if (grid[i + startRow][j + startCol] == num) return false\n      }\n      return true\n    }\n  }\n\n  transform(puzzleString) {\n    let grid = [\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0, 0, 0]\n    ];\n    let row = -1\n    let col = 0\n\n    for (let i = 0; i < puzzleString.length; i ++) {\n      if (i % 9 == 0) {\n        row++\n      }\n      if (col % 9 == 0) {\n        col = 0;\n      }\n\n      grid[row][col] = puzzleString[i] === '.' ? 0 : +puzzleString[i];\n      col++;\n    }\n    return grid;\n  }\n\n}\n\nmodule.exports = SudokuSolver;\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1681297072490
  }
}